--------------------------------------------
--  Authentication and Authorization
-- (Tables used by the authentication and authorization system)
--------------------------------------------
drop table if exists users, user_roles, provider, patient, ProviderContactDetails, PatientContactDetails;
create table users (
    username varchar(255) primary key,
    email varchar(255) UNIQUE,
    password varchar(255) NOT NULL
    -- Additional fields can be added here,
    -- such as first name, last name, etc.
    -- Just also update the spring user model/dao
);

create table user_roles (
    username varchar(255),
    role varchar(255),
    primary key (username, role),
	FOREIGN KEY ( username) REFERENCES users(username) ON DELETE CASCADE
);

-- Create the admin/admin user with the ADMIN role
insert into users (username, password, email) values ('admin', '$2a$10$kRbQq1xPISiteFw/LMEoi.Cid/tKI4.flGJB.05hhtPpgIYu.LPbS', 'admin@example.com');
insert into user_roles (username, role) values ('admin', 'ADMIN');

--------------------------------------------
--  Application
-- (Tables used by the application)
--------------------------------------------

-- TODO: Add your tables here!
CREATE TABLE Provider (
    ID SERIAL PRIMARY KEY,
    FirstName VARCHAR(255) NOT NULL,
    LastName VARCHAR(255) NOT NULL
);
CREATE TABLE Patient (
    ID SERIAL PRIMARY KEY,
    FirstName VARCHAR(255) NOT NULL,
    LastName VARCHAR(255) NOT NULL,
    DOB DATE NOT NULL,
	SSN VARCHAR(11) NOT NULL UNIQUE,
    Gender VARCHAR(10) NOT NULL,
    InsuranceProvider VARCHAR(255) NOT NULL,
	PCPID int,
	FOREIGN KEY (PCPID) REFERENCES Provider(ID)
);
CREATE TABLE ProviderContactDetails (
    ID SERIAL PRIMARY KEY,
    ProviderID INT,
    PhoneNumber VARCHAR(15) UNIQUE,
    Email VARCHAR(320) UNIQUE,
    Address VARCHAR(255),
    FOREIGN KEY (ProviderID) REFERENCES Provider(ID) ON DELETE CASCADE
);
CREATE TABLE PatientContactDetails (
    ID SERIAL PRIMARY KEY,
    PatientID INT,
    PhoneNumber VARCHAR(15) UNIQUE,
    Email VARCHAR(320) UNIQUE,
    Address VARCHAR(255),
    FOREIGN KEY (PatientID) REFERENCES Patient(ID) ON DELETE CASCADE
);

--Testing Data--
INSERT INTO Provider (FirstName, LastName) VALUES
	('John', 'Smith'),
    ('Emily', 'Davis'),
    ('Michael', 'Brown'),
    ('Sarah', 'Wilson'),
    ('David', 'Taylor'),
    ('Laura', 'Anderson'),
    ('James', 'Thomas'),
    ('Linda', 'Jackson'),
    ('Robert', 'White'),
    ('Patricia', 'Harris'),
    ('Charles', 'Martin'),
    ('Barbara', 'Thompson');
INSERT INTO Patient (FirstName, LastName, DOB, SSN, Gender, InsuranceProvider, PCPID) VALUES 
	('Alice', 'Johnson', '1985-04-23', '123-45-6789', 'Female', 'HealthFirst', 1),
    ('Bob', 'Williams', '1990-09-12', '987-65-4321', 'Male', 'CarePlus', 2),
    ('Ethan', 'Clark', '1992-01-15', '111-22-3333', 'Male', 'HealthFirst', 1),
    ('Olivia', 'Lewis', '1988-02-20', '222-33-4444', 'Female', 'CarePlus', 2),
    ('Mason', 'Walker', '1995-03-25', '333-44-5555', 'Male', 'HealthFirst', 3),
    ('Sophia', 'Hall', '1990-04-30', '444-55-6666', 'Female', 'CarePlus', 4),
    ('Logan', 'Allen', '1987-05-05', '555-66-7777', 'Male', 'HealthFirst', 5),
    ('Ava', 'Young', '1993-06-10', '666-77-8888', 'Female', 'CarePlus', 6),
    ('Lucas', 'Hernandez', '1991-07-15', '777-88-9999', 'Male', 'HealthFirst', 7),
    ('Isabella', 'King', '1989-08-20', '888-99-0000', 'Female', 'CarePlus', 8),
    ('Liam', 'Wright', '1994-09-25', '999-00-1111', 'Male', 'HealthFirst', 9),
    ('Mia', 'Lopez', '1996-10-30', '000-11-2222', 'Female', 'CarePlus', 10),
    ('Emma', 'Scott', '1986-11-15', '123-12-1234', 'Female', 'HealthFirst', 11),
    ('Noah', 'Hill', '1989-12-25', '234-23-2345', 'Male', 'CarePlus', 12),
    ('Olivia', 'Green', '1991-01-05', '345-34-3456', 'Female', 'HealthFirst', 1),
    ('William', 'Adams', '1993-02-10', '456-45-4567', 'Male', 'CarePlus', 2),
    ('James', 'Harris', '1985-05-15', '567-56-5678', 'Male', 'HealthFirst', 3),
    ('Avery', 'Clark', '1992-06-20', '678-67-6789', 'Female', 'CarePlus', 4),
    ('Isla', 'Thomas', '1991-03-18', '789-78-7890', 'Female', 'HealthFirst', 5),
    ('Lucas', 'Robinson', '1989-07-22', '890-89-8901', 'Male', 'CarePlus', 6),
    ('Ella', 'Moore', '1992-04-13', '901-90-9012', 'Female', 'HealthFirst', 7),
    ('Mason', 'Jackson', '1993-02-24', '012-01-0123', 'Male', 'CarePlus', 8),
    ('Harper', 'Martin', '1991-11-05', '123-12-1235', 'Female', 'HealthFirst', 9),
    ('Alexander', 'Lee', '1990-08-19', '234-23-2346', 'Male', 'CarePlus', 10),
    ('Charlotte', 'Perez', '1994-06-30', '345-34-3457', 'Female', 'HealthFirst', 11),
    ('Ethan', 'Thompson', '1992-12-23', '456-45-4568', 'Male', 'CarePlus', 12),
    ('Aria', 'Martinez', '1993-10-02', '567-56-5679', 'Female', 'HealthFirst', 1),
    ('Jack', 'White', '1991-05-17', '678-67-6780', 'Male', 'CarePlus', 2),
    ('Amelia', 'Garcia', '1992-08-29', '789-78-7891', 'Female', 'HealthFirst', 3),
    ('Benjamin', 'Martinez', '1990-07-11', '890-89-8902', 'Male', 'CarePlus', 4),
    ('Evelyn', 'Rodriguez', '1989-12-14', '901-90-9013', 'Female', 'HealthFirst', 5),
    ('Aiden', 'Martinez', '1995-11-23', '012-01-0124', 'Male', 'CarePlus', 6),
    ('Lily', 'Lopez', '1991-03-30', '123-12-1236', 'Female', 'HealthFirst', 7),
    ('Sebastian', 'Gonzalez', '1990-05-25', '234-23-2347', 'Male', 'CarePlus', 8),
    ('Ralph', 'Lee', '1993-09-15', '345-34-3458', 'Male', 'HealthFirst', 9),
    ('Isaac', 'Brown', '1989-06-20', '456-45-4569', 'Male', 'CarePlus', 10),
    ('Sofia', 'Lewis', '1994-04-12', '567-56-5680', 'Female', 'HealthFirst', 11),
    ('Lucas', 'Smith', '1992-01-28', '678-67-6781', 'Male', 'CarePlus', 12),
    ('Grace', 'Miller', '1991-02-11', '789-78-7892', 'Female', 'HealthFirst', 1),
    ('Ella', 'Robinson', '1993-05-19', '890-89-8903', 'Female', 'CarePlus', 2),
    ('Daniel', 'Taylor', '1990-08-25', '901-90-9014', 'Male', 'HealthFirst', 3),
    ('Hazel', 'Moore', '1994-07-12', '012-01-0125', 'Female', 'CarePlus', 4),
    ('Jackson', 'Anderson', '1992-04-30', '123-12-1237', 'Male', 'HealthFirst', 5),
    ('Chloe', 'Thomas', '1990-10-23', '234-23-2348', 'Female', 'CarePlus', 6),
    ('Henry', 'Martinez', '1991-12-18', '345-34-3459', 'Male', 'HealthFirst', 7),
    ('Victoria', 'Jackson', '1993-02-26', '456-45-4570', 'Female', 'CarePlus', 8),
    ('Oliver', 'White', '1992-08-08', '567-56-5681', 'Male', 'HealthFirst', 9),
    ('Harper', 'Harris', '1990-11-15', '678-67-6782', 'Female', 'CarePlus', 10),
    ('Levi', 'Lopez', '1993-03-05', '789-78-7893', 'Male', 'HealthFirst', 11),
    ('Riley', 'King', '1991-01-29', '890-89-8904', 'Female', 'CarePlus', 12),
    ('David', 'Brown', '1989-12-11', '901-90-9015', 'Male', 'HealthFirst', 1),
    ('Scarlett', 'Hernandez', '1995-06-10', '012-01-0126', 'Female', 'CarePlus', 2),
    ('Owen', 'Lewis', '1994-07-19', '123-12-1238', 'Male', 'HealthFirst', 3),
    ('Layla', 'Scott', '1993-04-21', '234-23-2349', 'Female', 'CarePlus', 4),
    ('Dylan', 'Martinez', '1991-09-12', '345-34-3460', 'Male', 'HealthFirst', 5),
    ('Lily', 'Young', '1992-10-16', '456-45-4571', 'Female', 'CarePlus', 6),
    ('Wyatt', 'Martinez', '1990-08-18', '567-56-5682', 'Male', 'HealthFirst', 7),
    ('Zoe', 'Walker', '1993-11-22', '678-67-6783', 'Female', 'CarePlus', 8),
    ('Nolan', 'Clark', '1992-02-10', '789-78-7894', 'Male', 'HealthFirst', 9),
    ('Ellie', 'Davis', '1990-04-17', '890-89-8905', 'Female', 'CarePlus', 10),
    ('Isaiah', 'Lopez', '1994-09-14', '901-90-9016', 'Male', 'HealthFirst', 11),
    ('Addison', 'Mitchell', '1993-06-25', '012-01-0127', 'Female', 'CarePlus', 12),
    ('Hunter', 'Taylor', '1991-11-05', '123-12-1239', 'Male', 'HealthFirst', 1),
    ('Natalie', 'Parker', '1990-05-12', '234-23-2350', 'Female', 'CarePlus', 2),
    ('Julian', 'White', '1992-03-29', '345-34-3461', 'Male', 'HealthFirst', 3),
    ('Violet', 'Rodriguez', '1994-06-19', '456-45-4572', 'Female', 'CarePlus', 4),
    ('Landon', 'Garcia', '1991-12-30', '567-56-5683', 'Male', 'HealthFirst', 5),
    ('Lillian', 'Moore', '1993-04-18', '678-67-6784', 'Female', 'CarePlus', 6),
    ('Nathan', 'Martinez', '1990-10-22', '789-78-7895', 'Male', 'HealthFirst', 7),
    ('Aubrey', 'Anderson', '1994-05-25', '890-89-8906', 'Female', 'CarePlus', 8),
    ('Christian', 'Thomas', '1992-07-10', '901-90-9017', 'Male', 'HealthFirst', 9),
    ('Hannah', 'Lee', '1991-03-20', '012-01-0128', 'Female', 'CarePlus', 10),
    ('Connor', 'Scott', '1993-08-30', '123-12-1240', 'Male', 'HealthFirst', 11),
    ('Penelope', 'Martinez', '1990-06-12', '234-23-2351', 'Female', 'CarePlus', 12),
    ('Cameron', 'Gonzalez', '1994-11-29', '345-34-3462', 'Male', 'HealthFirst', 1),
    ('Aurora', 'Davis', '1992-12-15', '456-45-4573', 'Female', 'CarePlus', 2),
    ('Jordan', 'Brown', '1991-09-05', '567-56-5684', 'Male', 'HealthFirst', 3),
    ('Lucy', 'Moore', '1993-01-22', '678-67-6785', 'Female', 'CarePlus', 4),
    ('Ryan', 'Lopez', '1990-02-11', '789-78-7896', 'Male', 'HealthFirst', 5),
    ('Elena', 'Martin', '1994-03-18', '890-89-8907', 'Female', 'CarePlus', 6),
    ('Adrian', 'King', '1992-05-16', '901-90-9018', 'Male', 'HealthFirst', 7),
    ('Riley', 'Rodriguez', '1991-11-23', '012-01-0129', 'Female', 'CarePlus', 8),
    ('Jeremiah', 'White', '1993-02-20', '123-12-1241', 'Male', 'HealthFirst', 9),
    ('Nora', 'Anderson', '1990-08-14', '234-23-2352', 'Female', 'CarePlus', 10);
INSERT INTO ProviderContactDetails (ProviderID, PhoneNumber, Email, Address) VALUES
-- Contact details for providers
	(1, '555-123-4567', 'john.smith@example.com', '123 Main St'),
    (2, '555-234-5678', 'emily.davis@example.com', '456 Oak St'),
    (3, '555-345-6789', 'michael.brown@example.com', '789 Pine St'),
    (4, '555-456-7890', 'sarah.wilson@example.com', '101 Elm St'),
    (5, '555-567-8901', 'david.taylor@example.com', '202 Birch St'),
    (6, '555-678-9012', 'laura.anderson@example.com', '303 Cedar St'),
    (7, '555-789-0123', 'james.thomas@example.com', '404 Walnut St'),
    (8, '555-890-1234', 'linda.jackson@example.com', '505 Spruce St'),
    (9, '555-901-2345', 'robert.white@example.com', '606 Maple St'),
    (10, '555-012-3456', 'patricia.harris@example.com', '707 Oak St'),
    (11, '555-123-4568', 'charles.martin@example.com', '808 Pine St'),
    (12, '555-234-5679', 'barbara.thompson@example.com', '909 Elm St');
-- Contact details for patients
INSERT INTO PatientContactDetails (PatientID, PhoneNumber, Email, Address) VALUES
    (1, '555-678-9013', 'alice.johnson@example.com', '101 Cedar St'),
    (2, '555-789-0124', 'bob.williams@example.com', '202 Walnut St'),
    (3, '555-890-1235', 'ethan.clark@example.com', '303 Spruce St'),
    (4, '555-901-2346', 'olivia.lewis@example.com', '404 Maple St'),
    (5, '555-012-3457', 'mason.walker@example.com', '505 Oak St'),
    (6, '555-123-4569', 'sophia.hall@example.com', '606 Birch St'),
    (7, '555-234-5670', 'logan.allen@example.com', '707 Cedar St'),
    (8, '555-345-6781', 'ava.young@example.com', '808 Walnut St'),
    (9, '555-456-7892', 'lucas.hernandez@example.com', '909 Spruce St'),
    (10, '555-567-8903', 'isabella.king@example.com', '1010 Maple St'),
    (11, '555-678-9014', 'liam.wright@example.com', '1111 Oak St'),
    (12, '555-789-0125', 'mia.lopez@example.com', '1212 Birch St'),
    (13, '555-890-1236', 'emma.scott@example.com', '1313 Cedar St'),
    (14, '555-901-2347', 'noah.hill@example.com', '1414 Walnut St'),
    (15, '555-012-3458', 'olivia.green@example.com', '1515 Spruce St'),
    (16, '555-123-4560', 'william.adams@example.com', '1616 Maple St'),
    (17, '555-234-5671', 'james.harris@example.com', '1717 Oak St'),
    (18, '555-345-6782', 'avery.clark@example.com', '1818 Birch St'),
    (19, '555-456-7893', 'isla.thomas@example.com', '1919 Cedar St'),
    (20, '555-567-8904', 'lucas.robinson@example.com', '2020 Walnut St'),
    (21, '555-678-9015', 'ella.moore@example.com', '2121 Spruce St'),
    (22, '555-789-0126', 'mason.jackson@example.com', '2222 Maple St'),
    (23, '555-890-1237', 'harper.martin@example.com', '2323 Oak St'),
    (24, '555-901-2348', 'alexander.lee@example.com', '2424 Birch St'),
    (25, '555-012-3459', 'charlotte.perez@example.com', '2525 Cedar St'),
    (26, '555-123-4561', 'ethan.thompson@example.com', '2626 Walnut St'),
    (27, '555-234-5672', 'aria.martinez@example.com', '2727 Spruce St'),
    (28, '555-345-6783', 'jack.white@example.com', '2828 Maple St'),
    (29, '555-456-7894', 'amelia.garcia@example.com', '2929 Oak St'),
    (30, '555-567-8905', 'benjamin.martinez@example.com', '3030 Birch St'),
    (31, '555-678-9016', 'evelyn.rodriguez@example.com', '3131 Cedar St'),
    (32, '555-789-0127', 'aiden.martinez@example.com', '3232 Walnut St'),
    (33, '555-890-1238', 'lily.lopez@example.com', '3333 Spruce St'),
    (34, '555-901-2349', 'sebastian.gonzalez@example.com', '3434 Maple St'),
    (35, '555-012-3460', 'ralph.lee@example.com', '3535 Oak St'),
    (36, '555-123-4562', 'isaac.brown@example.com', '3636 Birch St'),
    (37, '555-234-5673', 'sofia.lewis@example.com', '3737 Cedar St'),
    (38, '555-345-6784', 'lucas.smith@example.com', '3838 Walnut St'),
    (39, '555-456-7895', 'grace.miller@example.com', '3939 Spruce St'),
    (40, '555-567-8906', 'ella.robinson@example.com', '4040 Maple St'),
    (41, '555-678-9017', 'daniel.taylor@example.com', '4141 Oak St'),
    (42, '555-789-0128', 'hazel.moore@example.com', '4242 Birch St'),
    (43, '555-890-1239', 'jackson.anderson@example.com', '4343 Cedar St'),
    (44, '555-901-2350', 'chloe.thomas@example.com', '4444 Walnut St'),
    (45, '555-012-3461', 'henry.martinez@example.com', '4545 Spruce St'),
    (46, '555-123-4563', 'victoria.jackson@example.com', '4646 Maple St'),
    (47, '555-234-5674', 'oliver.white@example.com', '4747 Oak St'),
    (48, '555-345-6785', 'harper.harris@example.com', '4848 Birch St'),
    (49, '555-456-7896', 'levi.lopez@example.com', '4949 Cedar St'),
    (50, '555-567-8907', 'riley.king@example.com', '5050 Walnut St'),
    (51, '555-678-9018', 'david.brown@example.com', '5151 Spruce St'),
    (52, '555-789-0129', 'scarlett.hernandez@example.com', '5252 Maple St'),
    (53, '555-890-1240', 'owen.lewis@example.com', '5353 Oak St'),
    (54, '555-901-2351', 'layla.scott@example.com', '5454 Birch St'),
    (55, '555-012-3462', 'dylan.martinez@example.com', '5555 Cedar St'),
    (56, '555-123-4564', 'lily.young@example.com', '5656 Walnut St'),
    (57, '555-234-5675', 'wyatt.martinez@example.com', '5757 Spruce St'),
    (58, '555-345-6786', 'zoe.walker@example.com', '5858 Maple St'),
    (59, '555-456-7897', 'nolan.clark@example.com', '5959 Oak St'),
    (60, '555-567-8908', 'ellie.davis@example.com', '6060 Birch St'),
    (61, '555-678-9019', 'isaiah.lopez@example.com', '6161 Cedar St'),
    (62, '555-789-0130', 'addison.mitchell@example.com', '6262 Walnut St'),
    (63, '555-890-1241', 'hunter.taylor@example.com', '6363 Spruce St'),
    (64, '555-901-2352', 'natalie.parker@example.com', '6464 Maple St'),
    (65, '555-012-3463', 'julian.white@example.com', '6565 Oak St'),
    (66, '555-123-4565', 'violet.rodriguez@example.com', '6666 Birch St'),
    (67, '555-234-5676', 'landon.garcia@example.com', '6767 Cedar St'),
    (68, '555-345-6787', 'lillian.moore@example.com', '6868 Walnut St'),
    (69, '555-456-7898', 'nathan.martinez@example.com', '6969 Spruce St'),
    (70, '555-567-8909', 'aubrey.anderson@example.com', '7070 Maple St'),
    (71, '555-678-9020', 'christian.thomas@example.com', '7171 Oak St'),
    (72, '555-789-0131', 'hannah.lee@example.com', '7272 Birch St'),
    (73, '555-890-1242', 'connor.scott@example.com', '7373 Cedar St'),
    (74, '555-901-2353', 'penelope.martinez@example.com', '7474 Walnut St'),
    (75, '555-012-3464', 'cameron.gonzalez@example.com', '7575 Spruce St'),
    (76, '555-123-4566', 'aurora.davis@example.com', '7676 Maple St'),
    (77, '555-234-5677', 'jordan.brown@example.com', '7777 Oak St'),
    (78, '555-345-6788', 'lucy.moore@example.com', '7878 Birch St'),
    (79, '555-456-7899', 'ryan.lopez@example.com', '7979 Cedar St'),
    (80, '555-567-8910', 'elena.martin@example.com', '8080 Walnut St'),
    (81, '555-678-9021', 'adrian.king@example.com', '8181 Spruce St'),
    (82, '555-789-0132', 'riley.rodriguez@example.com', '8282 Maple St'),
    (83, '555-890-1243', 'jeremiah.white@example.com', '8383 Oak St'),
    (84, '555-901-2354', 'nora.anderson@example.com', '8484 Birch St');